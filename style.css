/* Main Stylesheet for Janimann's Birthday Website */

:root {
    --primary-brown: #8B6F47;
    --light-brown: #C1A186;
    --dark-brown: #5D4037;
    --cream: #FFFDF9;
    --soft-white: #FFFFFF;
    --accent-gold: #D4AF37;
    --text-dark: #4A4036;
    --text-light: #8C7B70;
    --shadow-soft: 0 10px 40px rgba(139, 111, 71, 0.1);
    --shadow-hover: 0 20px 50px rgba(139, 111, 71, 0.15);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--cream);
    color: var(--text-dark);
    line-height: 1.7;
    overflow-x: hidden;
    position: relative;
}

h1,
h2,
h3,
h4,
.playfair {
    font-family: 'Playfair Display', serif;
}

.tangerine {
    font-family: 'Tangerine', cursive;
}

/* ===== UTILITIES ===== */
.fade-in {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}

.fade-in.visible {
    opacity: 1;
    transform: translateY(0);
}

section {
    padding: 5rem 2rem;
    position: relative;
    z-index: 2;
}

/* ===== HERO SECTION ===== */
.hero {
    height: 100vh;
    min-height: 700px;
    background: radial-gradient(circle at center, #FFFEFC 0%, #F5EFE6 100%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    position: relative;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%238B6F47' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    z-index: 1;
}

.hero-content {
    z-index: 3;
    padding: 2rem;
    max-width: 900px;
    animation: fadeInHero 1.5s ease-out;
}

.hero h1 {
    font-size: clamp(3rem, 10vw, 6rem);
    font-weight: 900;
    color: var(--primary-brown);
    margin-bottom: 1rem;
    line-height: 1.1;
}

.hero h2 {
    font-size: clamp(1.2rem, 4vw, 2.2rem);
    color: var(--light-brown);
    font-weight: 500;
    margin-bottom: 2rem;
}

.hero .date-badge {
    display: inline-block;
    padding: 0.5rem 1.5rem;
    border: 1px solid var(--primary-brown);
    border-radius: 50px;
    color: var(--primary-brown);
    font-size: 0.9rem;
    margin-top: 1rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    background: rgba(255, 255, 255, 0.5);
    backdrop-filter: blur(5px);
}

@keyframes fadeInHero {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* ===== FLOATING ELEMENTS ===== */
.floating-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
}

.floating-heart {
    position: absolute;
    color: rgba(212, 165, 165, 0.4);
    font-size: 1.5rem;
    animation: floatUp linear infinite;
}

@keyframes floatUp {
    0% {
        transform: translateY(110vh) rotate(0deg);
        opacity: 0;
    }

    10% {
        opacity: 0.8;
    }

    90% {
        opacity: 0.8;
    }

    100% {
        transform: translateY(-10vh) rotate(360deg);
        opacity: 0;
    }
}

/* ===== CAKE SECTION ===== */
.cake-section {
    text-align: center;
    padding: 6rem 1rem;
    background-color: var(--soft-white);
}

.cake-container {
    position: relative;
    width: 300px;
    height: 300px;
    margin: 3rem auto;
}

/* CSS Cake Drawing */
.cake-base {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 250px;
    height: 100px;
    background: var(--light-brown);
    border-radius: 10px 10px 0 0;
    box-shadow: inset 0 -10px rgba(0, 0, 0, 0.05);
}

.cake-middle {
    position: absolute;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    width: 200px;
    height: 80px;
    background: #E8D5C4;
    border-radius: 10px 10px 0 0;
    box-shadow: inset 0 -10px rgba(0, 0, 0, 0.05);
}

.cake-top {
    position: absolute;
    bottom: 180px;
    left: 50%;
    transform: translateX(-50%);
    width: 150px;
    height: 60px;
    background: var(--cream);
    border: 1px solid #E8D5C4;
    border-bottom: none;
    border-radius: 10px 10px 0 0;
}

.candle {
    position: absolute;
    bottom: 240px;
    width: 12px;
    height: 40px;
    background: linear-gradient(to right, #e8e8e8, #f5f5f5);
    border-radius: 2px;
    cursor: pointer;
    transition: transform 0.2s;
}

.candle:hover {
    transform: scale(1.1);
}

.candle::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 10px;
    background: #333;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
}

.flame {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    width: 16px;
    height: 24px;
    background: #FFD700;
    border-radius: 50% 50% 20% 20%;
    box-shadow: 0 0 10px #FFD700, 0 0 20px #FF4500;
    animation: flicker 0.5s infinite alternate;
    opacity: 0;
    transition: opacity 0.3s;
}

.flame.lit {
    opacity: 1;
}

.candle-1 {
    left: 85px;
}

.candle-2 {
    left: 115px;
}

.candle-3 {
    left: 145px;
}

.candle-4 {
    left: 175px;
}

.candle-5 {
    left: 205px;
}

@keyframes flicker {
    0% {
        transform: translateX(-50%) scale(1);
    }

    100% {
        transform: translateX(-50%) scale(1.1) rotate(2deg);
    }
}

.blow-btn {
    margin-top: 2rem;
    padding: 1rem 3rem;
    background-color: var(--primary-brown);
    color: white;
    border: none;
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    opacity: 0;
    pointer-events: none;
    box-shadow: 0 5px 15px rgba(139, 111, 71, 0.3);
}

.blow-btn.visible {
    opacity: 1;
    pointer-events: auto;
}

.blow-btn:hover {
    background-color: var(--dark-brown);
    transform: translateY(-2px);
}

/* ===== LOGIN PAGE ===== */
.login-body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: radial-gradient(circle at center, #FFFEFC 0%, #F5EFE6 100%);
    overflow: hidden;
}

.login-card {
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(10px);
    padding: 4rem 3rem;
    border-radius: 20px;
    box-shadow:
        0 20px 50px rgba(139, 111, 71, 0.1),
        0 0 0 1px rgba(139, 111, 71, 0.05);
    /* Subtle border */
    text-align: center;
    max-width: 450px;
    width: 90%;
    z-index: 10;
    transform: translateY(0);
    transition: opacity 1s ease, transform 1s ease;
}

.login-card h1 {
    font-size: 2.5rem;
    color: var(--primary-brown);
    margin-bottom: 0.5rem;
}

.login-card p {
    color: var(--text-light);
    margin-bottom: 2.5rem;
    font-size: 0.95rem;
}

.input-group {
    position: relative;
    margin-bottom: 1.5rem;
}

.input-group input {
    width: 100%;
    padding: 1rem 1.5rem;
    border: 2px solid rgba(139, 111, 71, 0.2);
    border-radius: 50px;
    background: transparent;
    font-family: 'Poppins', sans-serif;
    font-size: 1rem;
    color: var(--text-dark);
    transition: all 0.3s ease;
    outline: none;
}

.input-group input:focus {
    border-color: var(--primary-brown);
    background: white;
    box-shadow: 0 0 0 4px rgba(139, 111, 71, 0.05);
}

.input-group input::placeholder {
    color: rgba(139, 111, 71, 0.4);
}

.login-btn {
    width: 100%;
    padding: 1rem;
    margin-top: 1rem;
    background: linear-gradient(135deg, var(--primary-brown), var(--light-brown));
    color: white;
    border: none;
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    font-size: 1.1rem;
    font-weight: 500;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 10px 20px rgba(139, 111, 71, 0.2);
}

.login-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 15px 30px rgba(139, 111, 71, 0.3);
}

.error-msg {
    min-height: 24px;
    margin-top: 1.5rem;
    color: #D4A5A5;
    font-size: 0.9rem;
    font-style: italic;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
}

.error-msg.visible {
    opacity: 1;
    transform: translateY(0);
}

.fade-out-page {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
    pointer-events: none;
}

/* ===== VIDEO MEMORIES ===== */
.video-section {
    background-color: #F8F5F2;
    padding: 6rem 2rem;
}

.video-container {
    max-width: 800px;
    margin: 0 auto;
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: var(--shadow-soft);
    aspect-ratio: 16/9;
    background: #000;
}

.video-container video {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.video-controls {
    text-align: center;
    margin-top: 2rem;
}

.now-playing {
    font-style: italic;
    color: var(--text-light);
    margin-top: 1rem;
}

/* ===== MASONRY GALLERY ===== */
.gallery-section {
    background-color: var(--soft-white);
}

.masonry-grid {
    column-count: 3;
    column-gap: 2rem;
    max-width: 1200px;
    margin: 0 auto;
}

@media (max-width: 900px) {
    .masonry-grid {
        column-count: 2;
    }
}

@media (max-width: 600px) {
    .masonry-grid {
        column-count: 1;
    }
}

.gallery-item {
    break-inside: avoid;
    margin-bottom: 2rem;
    background: white;
    padding: 1rem;
    border-radius: 4px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease;
}

.gallery-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-hover);
}

.gallery-item img {
    width: 100%;
    border-radius: 2px;
    display: block;
}

.gallery-caption {
    padding-top: 1rem;
    text-align: center;
    color: var(--text-dark);
}

/* ===== WISHES & CARDS ===== */
.wishes-section {
    background: linear-gradient(to bottom, #FFF8F3, #FDFBF7);
}

.wishes-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 3rem;
    max-width: 1100px;
    margin: 0 auto;
}

.card {
    background: white;
    padding: 3rem 2rem;
    border-radius: 1px;
    border: 1px solid rgba(139, 111, 71, 0.1);
    box-shadow: var(--shadow-soft);
    position: relative;
    transition: transform 0.4s ease;
}

.card:hover {
    transform: translateY(-10px);
}

.card::before {
    content: '“';
    position: absolute;
    top: -20px;
    left: 20px;
    font-size: 5rem;
    color: var(--primary-brown);
    opacity: 0.1;
    font-family: 'Playfair Display', serif;
}

/* ===== FOOTER ===== */
footer {
    background-color: var(--dark-brown);
    color: var(--cream);
    text-align: center;
    padding: 4rem 2rem;
}

.signature-large {
    font-size: 4rem;
    color: var(--accent-gold);
    margin-top: 1rem;
}

/* ===== CANVAS ===== */
#confetti-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 9999;
}

/* =========================================
   EMOTIONAL & INTERACTIVE FEATURES
   ========================================= */

/* 1. ALEZA MODE (Warm Brown Theme) */
body.aleza-mode {
    --primary-brown: #5D4037;
    --light-brown: #8D6E63;
    --cream: #EFEBE9;
    --soft-white: #D7CCC8;
    --text-dark: #3E2723;
    background-color: var(--cream);
}

body.aleza-mode .hero {
    background: radial-gradient(circle at center, #EFEBE9 0%, #D7CCC8 100%);
}

body.aleza-mode .card,
body.aleza-mode .gallery-item,
body.aleza-mode .cake-section,
body.aleza-mode .gallery-section,
body.aleza-mode .timeline-section {
    background-color: #FAF8F5;
    border-color: rgba(93, 64, 55, 0.1);
}

/* 2. HEARTBEAT MODE */
@keyframes heartbeat-pulse {
    0% {
        transform: scale(1);
        filter: brightness(100%);
    }

    50% {
        transform: scale(1.005);
        filter: brightness(102%);
    }

    100% {
        transform: scale(1);
        filter: brightness(100%);
    }
}

#main-wrapper.heartbeat-active {
    animation: heartbeat-pulse 1.5s ease-in-out infinite;
}

#main-wrapper.heartbeat-active .floating-heart,
#main-wrapper.heartbeat-active .heart-emoji {
    animation: heartbeat-pulse 0.8s ease-in-out infinite !important;
}

/* 3. SECRET & CANDLE OVERLAYS */
.fullscreen-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(62, 39, 35, 0.95);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
    flex-direction: column;
    text-align: center;
    padding: 2rem;
}

.fullscreen-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

.overlay-content h2 {
    color: #FFF;
    font-size: clamp(2rem, 5vw, 4rem);
    margin-bottom: 2rem;
    line-height: 1.3;
}

.overlay-content p {
    color: #D7CCC8;
    font-size: 1.2rem;
    font-weight: 300;
}

/* 4. COUNTDOWN */
.countdown-number {
    font-size: 15vw;
    font-weight: 700;
    color: var(--accent-gold);
    font-family: 'Playfair Display', serif;
    animation: scaleDown 1s ease infinite;
}

@keyframes scaleDown {
    0% {
        transform: scale(1.5);
        opacity: 0;
    }

    50% {
        transform: scale(1);
        opacity: 1;
    }

    100% {
        transform: scale(1);
        opacity: 0;
    }
}

/* FLOATING CONTROLS */
.controls-bar {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    display: flex;
    gap: 1rem;
    z-index: 900;
}

.control-btn {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(5px);
    border: 1px solid var(--primary-brown);
    color: var(--primary-brown);
    padding: 0.8rem 1.2rem;
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
}

.control-btn:hover,
.control-btn.active {
    background: var(--primary-brown);
    color: #FFF;
    transform: translateY(-3px);
}

/* TOAST MESSAGE */
.toast-msg {
    position: fixed;
    bottom: 5rem;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: rgba(255, 255, 255, 0.95);
    padding: 1rem 2rem;
    border-radius: 50px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    opacity: 0;
    transition: all 0.5s ease;
    z-index: 2000;
    color: var(--primary-brown);
    font-weight: 500;
}

/* =========================================
   AI-THEMED FEATURES (HEART AI)
   ========================================= */

/* AI Overlay Container */
.ai-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 253, 249, 0.98);
    background-image: radial-gradient(circle at center, rgba(139, 111, 71, 0.05) 1px, transparent 1px);
    background-size: 20px 20px;
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.5s ease;
}

.ai-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

/* AI Panel (Card) */
.ai-panel {
    width: 90%;
    max-width: 600px;
    background: #FFF;
    border: 1px solid var(--primary-brown);
    border-radius: 12px;
    box-shadow: 0 20px 50px rgba(139, 111, 71, 0.15);
    overflow: hidden;
    position: relative;
    display: flex;
    flex-direction: column;
}

/* Header */
.ai-header {
    background: var(--primary-brown);
    color: #FFF;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-family: 'Courier New', monospace;
}

.ai-close-btn {
    background: transparent;
    border: none;
    color: #FFF;
    font-size: 1.5rem;
    cursor: pointer;
}

/* Chat Interface */
.ai-view {
    padding: 2rem;
    min-height: 400px;
    display: flex;
    flex-direction: column;
}

.ai-view.hidden {
    display: none;
}

.chat-output {
    flex-grow: 1;
    margin-bottom: 2rem;
    font-family: 'Courier New', monospace;
    font-size: 1rem;
    color: var(--text-dark);
    line-height: 1.6;
    border-bottom: 1px solid rgba(139, 111, 71, 0.1);
    padding-bottom: 1rem;
    overflow-y: auto;
}

.typing-cursor::after {
    content: '▋';
    animation: blink 1s infinite;
    color: var(--primary-brown);
}

@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

.chat-controls {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.chat-btn,
.action-btn {
    background: rgba(139, 111, 71, 0.1);
    border: 1px solid var(--primary-brown);
    color: var(--primary-brown);
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    font-family: 'Poppins', sans-serif;
    transition: all 0.2s;
}

.chat-btn:hover,
.action-btn:hover {
    background: var(--primary-brown);
    color: #FFF;
}

.action-btn {
    width: 100%;
    margin-top: 1rem;
    text-align: center;
    font-weight: 600;
}

/* Training Visualization */
.training-container {
    text-align: center;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
}

.step-display {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary-brown);
    margin-bottom: 2rem;
    height: 3rem;
    /* Fixed height to prevent jumps */
    font-family: 'Courier New', monospace;
}

.progress-area {
    width: 100%;
    margin-bottom: 2rem;
}

.progress-label {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.5rem;
    font-size: 0.9rem;
}

.progress-track {
    width: 100%;
    height: 8px;
    background: rgba(139, 111, 71, 0.1);
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 1rem;
}

.progress-fill {
    height: 100%;
    width: 0%;
    background: var(--primary-brown);
    transition: width 0.3s ease;
}

.final-output {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    color: var(--primary-brown);
    opacity: 0;
    transform: scale(0.9);
    transition: all 0.5s ease;
}

.final-output.visible {
    opacity: 1;
    transform: scale(1);
}

/* Error Toast */
.ai-error-toast {
    position: fixed;
    top: -200px;
    /* Start securely off-screen */
    left: 50%;
    transform: translateX(-50%);
    background: #5D4037;
    color: #FFCDD2;
    padding: 1rem 2rem;
    border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    z-index: 10001;
    /* Above standard toast */
    font-family: 'Courier New', monospace;
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: top 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.ai-error-toast.visible {
    top: 20px;
}

/* =========================================
   LOGIN BACKGROUND SLIDESHOW
   ========================================= */

.slideshow-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    overflow: hidden;
    background-color: var(--primary-brown);
    /* Fallback */
}

.slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0;
    transition: opacity 2s ease-in-out;
    transform: scale(1.05);
    /* Slight zoom for motion effect */
    animation: zoomSlow 20s infinite alternate;
}

@keyframes zoomSlow {
    from {
        transform: scale(1.05);
    }

    to {
        transform: scale(1.15);
    }
}

.slide.active {
    opacity: 1;
}

.bg-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(93, 64, 55, 0.4), rgba(139, 111, 71, 0.3));
    z-index: -1;
    backdrop-filter: blur(2px);
    /* Slight blur for focus on form */
}

/* =========================================
   INTERACTIVE ROMANTIC EFFECTS
   ========================================= */

/* 1. Click Hearts & Sparkles */
.click-heart {
    position: fixed;
    pointer-events: none;
    font-size: 1.5rem;
    color: var(--primary-brown);
    z-index: 9999;
    animation: floatHeartClick 1s ease-out forwards;
}

.sparkle {
    position: fixed;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle, #fff, rgba(255, 255, 255, 0));
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    animation: sparkleAnim 0.8s ease-out forwards;
}

@keyframes floatHeartClick {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(0.5);
    }

    100% {
        opacity: 0;
        transform: translate(-50%, -150%) scale(1.5);
    }
}

@keyframes sparkleAnim {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0);
    }
}

/* 2. Cursor Trail */
.cursor-trail {
    position: fixed;
    width: 8px;
    height: 8px;
    background: rgba(139, 111, 71, 0.4);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9998;
    transition: transform 0.1s linear, opacity 0.3s ease;
}

/* 3. Idle Detection Message (UPDATED) */
.idle-message {
    position: fixed;
    top: 2rem;
    /* Changed from bottom to top */
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.95);
    padding: 1rem 2.5rem;
    border-radius: 50px;
    box-shadow: 0 10px 40px rgba(183, 28, 28, 0.15);
    font-family: 'Playfair Display', serif;
    /* More romantic font */
    color: #D32F2F;
    /* Romantic Red */
    font-size: 1.2rem;
    letter-spacing: 0.5px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease, transform 1s ease;
    z-index: 10000;
    font-weight: 500;
}

.idle-message.visible {
    opacity: 1;
    transform: translateX(-50%) translateY(10px);
}

/* 4. Logout Overlay */
.logout-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #FFF;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 20000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1.5s ease;
}

.logout-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

.logout-overlay h2 {
    font-size: 3rem;
    color: var(--primary-brown);
    transform: translateY(20px);
    transition: transform 1.5s ease;
}

.logout-overlay.visible h2 {
    transform: translateY(0);
}

/* Logout Button Style */
.logout-btn-style {
    background: rgba(255, 255, 255, 0.5) !important;
    border: 1px solid var(--text-light) !important;
    color: var(--text-light) !important;
}

.logout-btn-style:hover {
    background: var(--dark-brown) !important;
    color: #FFF !important;
    border-color: var(--dark-brown) !important;
}

/* 5. Surprise Love Notification */
.surprise-notification {
    position: fixed;
    bottom: 30px;
    right: 30px;
    background: rgba(255, 253, 250, 0.95);
    backdrop-filter: blur(10px);
    padding: 1.2rem 2rem;
    border-radius: 12px;
    box-shadow:
        0 10px 30px rgba(139, 111, 71, 0.15),
        0 0 0 1px rgba(139, 111, 71, 0.1);
    display: flex;
    align-items: center;
    gap: 1rem;
    font-family: 'Poppins', sans-serif;
    color: var(--text-dark);
    cursor: pointer;
    z-index: 9900;
    transform: translateY(100px) scale(0.95);
    opacity: 0;
    transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.surprise-notification.visible {
    transform: translateY(0) scale(1);
    opacity: 1;
}

.surprise-notification:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(139, 111, 71, 0.25);
}

.notif-icon {
    font-size: 1.5rem;
    animation: gentleBell 3s infinite;
}

@keyframes gentleBell {

    0%,
    90% {
        transform: rotate(0);
    }

    92% {
        transform: rotate(15deg);
    }

    94% {
        transform: rotate(-15deg);
    }

    96% {
        transform: rotate(10deg);
    }

    98% {
        transform: rotate(-10deg);
    }

    100% {
        transform: rotate(0);
    }
}

/* 6. Invisible Ink Modal */
.ink-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(62, 39, 35, 0.8);
    backdrop-filter: blur(8px);
    z-index: 20000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s ease;
}

.ink-modal.visible {
    opacity: 1;
    pointer-events: auto;
}

.ink-card {
    background: #FFFDF9;
    width: 90%;
    max-width: 600px;
    min-height: 400px;
    padding: 4rem 3rem;
    border-radius: 10px;
    /* Paper-like */
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    position: relative;
    text-align: center;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%238B6F47' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.ink-instruction {
    font-size: 0.9rem;
    color: var(--text-light);
    margin-bottom: 2rem;
    font-style: italic;
    opacity: 0.7;
}

.ink-reveal-area {
    position: relative;
    width: 100%;
    margin: 1rem 0;
    user-select: none;
}

.ink-text-hidden {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    line-height: 1.4;
    color: var(--primary-brown);
    font-weight: 700;

    /* The Reveal Magic */
    color: transparent;
    /* Text itself is hidden */
    background: linear-gradient(to right, #5D4037, #8B6F47);
    /* The color we want to see */
    background-clip: text;
    -webkit-background-clip: text;

    /* Start fully hidden/obstructed */
    mask-image: radial-gradient(circle 80px at var(--x, -100%) var(--y, -100%), rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%);
    -webkit-mask-image: radial-gradient(circle 80px at var(--x, -100%) var(--y, -100%), rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.1) 50%, transparent 100%);
    /* Adjust gradient to reveal */

    /* NOTE: Masking generally shows opaque areas. 
       If we want to "reveal", the mask should be transparent where we HAVEN'T touched, and opaque where we HAVE.
       BUT, for "flashlight" effect: Mask is opaque at cursor, transparent elsewhere.
       The user wants "gradually appear". Flashlight is easiest. 
       Better approach for "gradual appear" (permanent): Use JS to change styles of letters or update a canvas mask. 
       Let's stick to the flashlight effect for simplicity and elegance as requested "move mouse slowly".
       Wait, "gradually appear" usually implies permanence. 
       Let's try a hybrid: 
       We will actually make the text BLURRED and FADED, and the cursor "focuses" it. 
    */

    filter: blur(8px) grayscale(100%);
    opacity: 0.2;
    transition: filter 0.3s ease, opacity 0.3s ease;
    /* Smooth falloff */
}

/* We will handle the "permanent reveal" via JS adding a class or just the flashlight effect. 
   "As user moves mouse... text should gradually appear".
   Let's do the "Flashlight Reveal" where the text is only visible under the cursor, 
   BUT we will ALSO adding a 'revealed' class to letters if we use span splitting in JS.
   
   Actually, let's use the JS 'span' approach for best control:
   Each letter starts opacity 0.1, blur 5px.
   Cursor proximity increases opacity / decreases blur.
   Once fully revealed, it STAYS revealed? 
   "Gradually appear" -> suggests it stays.
   
   Let's define the style for the spans here.
*/

.ink-char {
    display: inline-block;
    transition: all 1s ease;
    /* Slow fade in */
    color: var(--primary-brown);
    min-width: 8px;
    /* Space for space char */
}

.ink-char.hidden-state {
    opacity: 0;
    filter: blur(10px);
    transform: translateY(10px);
}

.ink-char.revealed {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
}

.ink-close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--text-light);
    cursor: pointer;
    opacity: 0.5;
    transition: opacity 0.3s;
}

/* 8. Balloon Surprise */
.balloon {
    position: fixed;
    bottom: -150px;
    width: 60px;
    height: 80px;
    background: var(--bg-color, #FFF);
    border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
    box-shadow: inset -5px -5px 10px rgba(0, 0, 0, 0.05);
    cursor: pointer;
    z-index: 9950;
    transition: transform 0.2s;
    animation: floatUpBalloon var(--duration, 10s) linear forwards, swayBalloon 3s ease-in-out infinite alternate;
}

.balloon::before {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 40px;
    background: rgba(139, 111, 71, 0.3);
    /* String */
}

.balloon:hover {
    transform: scale(1.05);
}

.balloon.popped {
    animation: popBalloon 0.2s ease-out forwards !important;
    pointer-events: none;
}

@keyframes floatUpBalloon {
    to {
        transform: translateY(-120vh);
    }
}

@keyframes swayBalloon {
    from {
        margin-left: -20px;
    }

    to {
        margin-left: 20px;
    }
}

@keyframes popBalloon {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.4);
        opacity: 0.8;
    }

    100% {
        transform: scale(0);
        opacity: 0;
    }
}

/* 9. Balloon Reveal Overlay */
.balloon-reveal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.98);
    background-image: radial-gradient(circle at center, rgba(139, 111, 71, 0.05) 0%, transparent 70%);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 20000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1.5s ease;
}

.balloon-reveal-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

.reveal-heart-icon {
    font-size: 5rem;
    color: var(--primary-brown);
    animation: heartbeat-pulse 2s infinite;
    margin-bottom: 2rem;
}

.reveal-text {
    font-family: 'Playfair Display', serif;
    font-size: 2.5rem;
    color: var(--primary-brown);
    text-align: center;
    max-width: 800px;
    line-height: 1.4;
    transform: translateY(30px);
    opacity: 0;
    transition: all 1s ease 0.5s;
}

.balloon-reveal-overlay.visible .reveal-text {
    transform: translateY(0);
    opacity: 1;
}

.reveal-close-btn {
    margin-top: 3rem;
    padding: 0.8rem 2rem;
    background: transparent;
    border: 1px solid var(--primary-brown);
    color: var(--primary-brown);
    border-radius: 50px;
    font-family: 'Poppins', sans-serif;
    cursor: pointer;
    opacity: 0;
    transition: all 0.5s ease 2s;
    /* Delayed appearance */
}

.reveal-close-btn:hover {
    background: var(--primary-brown);
    color: #FFF;
}

.balloon-reveal-overlay.visible .reveal-close-btn {
    opacity: 1;
}

/* =========================================
   ROMANTIC UNIVERSE EXPANSION
   ========================================= */

/* 1. Night Sky Background */
#night-sky-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -5;
    /* Behind everything */
    pointer-events: none;
    transition: background-color 3s ease;
}

/* 2. Flower Evolution System */
.flower-container {
    position: fixed;
    bottom: 0;
    left: 20px;
    /* Left corner */
    width: 200px;
    height: 300px;
    z-index: 5;
    pointer-events: none;
    display: flex;
    align-items: flex-end;
    justify-content: center;
}

.organic-flower {
    width: 100%;
    height: 100%;
    transition: all 1s ease;
}

.flower-message {
    position: absolute;
    bottom: 20px;
    left: 120%;
    /* Changed from right to left */
    background: rgba(255, 255, 255, 0.9);
    padding: 0.8rem 1.5rem;
    border-radius: 20px 20px 20px 0;
    /* Flipped corner */
    box-shadow: 0 5px 20px rgba(139, 111, 71, 0.2);
    width: 200px;
    font-size: 0.9rem;
    color: var(--primary-brown);
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.5s ease;
}

.flower-container.bloomed .flower-message {
    opacity: 1;
    transform: translateY(0);
}

/* 3. Particle Love Words */
.love-particle {
    position: fixed;
    width: 4px;
    height: 4px;
    background: rgba(139, 111, 71, 0.6);
    border-radius: 50%;
    pointer-events: none;
    transition: transform 0.5s ease, opacity 0.5s ease;
}

/* 4. Photo Gallery Effects (Enhanced) */
.gallery-item {
    position: relative;
    overflow: hidden;
}

.gallery-item::after {
    content: '♥️';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    font-size: 3rem;
    color: rgba(255, 255, 255, 0.8);
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    z-index: 10;
    pointer-events: none;
}

.gallery-item:hover::after {
    transform: translate(-50%, -50%) scale(1);
    animation: pulseHeart 1s infinite;
}

.gallery-item:hover img {
    transform: scale(1.05);
    filter: brightness(1.1);
}

/* 5. Puzzle Lock System */
.puzzle-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 253, 249, 0.85);
    backdrop-filter: blur(8px);
    z-index: 20;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    transition: opacity 0.8s ease;
}

.puzzle-overlay.unlocked {
    opacity: 0;
    pointer-events: none;
}

.puzzle-container {
    background: #FFF;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 10px 40px rgba(139, 111, 71, 0.2);
    text-align: center;
}

.puzzle-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    /* 3x2 grid for 6 cards */
    gap: 10px;
    margin: 1.5rem 0;
}

.puzzle-card {
    width: 60px;
    height: 60px;
    background: var(--light-brown);
    border-radius: 8px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.5rem;
    color: transparent;
    transition: transform 0.3s, background 0.3s;
    user-select: none;
}

.puzzle-card.flipped {
    background: #FFF;
    border: 1px solid var(--primary-brown);
    color: var(--primary-brown);
    transform: rotateY(180deg);
}

.puzzle-card.matched {
    background: var(--primary-brown);
    color: #FFF;
    border-color: var(--primary-brown);
    cursor: default;
    animation: pulseSuccess 0.5s ease;
}

@keyframes pulseSuccess {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.1);
    }

    100% {
        transform: scale(1);
    }
}